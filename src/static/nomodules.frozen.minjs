"use strict";function _createForOfIteratorHelper(a,h){var b=typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"],d,e,f,g,c;if(!b){if(Array.isArray(a)||(b=_unsupportedIterableToArray(a))||h&&a&&typeof a.length=="number")return b&&(a=b),d=0,e=function(){},{s:e,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(a){throw a},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return f=!0,g=!1,{s:function(){b=b.call(a)},n:function(){var a=b.next();return f=a.done,a},e:function(a){g=!0,c=a},f:function(){try{!f&&b.return!=null&&b.return()}finally{if(g)throw c}}}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function ownKeys(a,d){var b=Object.keys(a),c;return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(a),d&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),b.push.apply(b,c)),b}function _objectSpread(c){for(var a=1,b;a<arguments.length;a++)b=arguments[a]!=null?arguments[a]:{},a%2?ownKeys(Object(b),!0).forEach(function(a){_defineProperty(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))});return c}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,c){if(!a)return;if(typeof a=="string")return _arrayLikeToArray(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if(b==="Object"&&a.constructor&&(b=a.constructor.name),b==="Map"||b==="Set")return Array.from(a);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return _arrayLikeToArray(a,c)}function _arrayLikeToArray(c,a){(a==null||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function _iterableToArrayLimit(b,e){var a=b==null?null:typeof Symbol!="undefined"&&b[Symbol.iterator]||b["@@iterator"],c,d,f,g,h;if(a==null)return;c=[],d=!0,f=!1;try{for(a=a.call(b);!(d=(g=a.next()).done);d=!0)if(c.push(g.value),e&&c.length===e)break}catch(a){f=!0,h=a}finally{try{!d&&a.return!=null&&a.return()}finally{if(f)throw h}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}(function(){var m,i,k,u,v,n,l,r,b,q,h;function g(a,c){if(typeof a=="string"&&(a=document.querySelectorAll(a)),!a)return;a.length===void 0&&(a=[a]);for(var b=0;b<a.length;b++)c(a[b],b)}function a(a,d,b){var c=[];return g(d,function(d){d.addEventListener(a,b),c.push(function(){d.removeEventListener(a,b)})}),function(){c.forEach(function(a){a()})}}function O(b,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=d.useSession,e=a!==void 0&&a,f=e?window.sessionStorage:window.localStorage,g=JSON.stringify(c);f.setItem(b,g)}function M(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=d.useSession,e=a!==void 0&&a,f=e?window.sessionStorage:window.localStorage,b=f.getItem(c);return b?JSON.parse(b):null}function L(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(b){var a=this;do{if(a.matches(b))return a;a=a.parentElement||a.parentNode}while(a!==null&&a.nodeType===1)return null})}function F(a){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",a):a()}function o(a,e){var c=1e3,d=[],b;for(b=0;b<c;b++){if(a=a.closest(e),!a)break;if(d.push(a),a=a.parentElement,!a)break}if(b===c)throw Error("allClosest exceeded maxDepth of ".concat(c));return d.reverse(),d}function K(){var a=parseInt(navigator.msDoNotTrack||window.doNotTrack||navigator.doNotTrack,10);return a===1}m={};function H(a,b){m[a]=b}function p(a){return m[a]}function z(a){var c,b,d;if(typeof navigator!="undefined"&&navigator.sendBeacon)if(c=navigator.sendBeacon(a),c)return;try{b=new window.XMLHttpRequest,b.open("GET",a,!1),b.send()}catch(b){d=new window.Image,d.src=a}}i="uid";function y(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window?window.localStorage:null,b;return a&&a.getItem(i)?a.getItem(i):(b=Math.random()+"."+Math.random(),a&&a.setItem(i,b),b)}function c(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return!a||b.indexOf(void 0)>-1?"":"&"+a+"="+b.map(encodeURIComponent).join("")}function x(a,b){return"https://www.google-analytics.com/collect?v=1&ul=en-us&de=UTF-8"+c("dl",[document.location.href])+c("dt",[document.title])+c("sd",[window.screen.colorDepth,"-bit"])+c("sr",[window.screen.availWidth,"x",window.screen.availHeight])+c("vp",[window.innerWidth,"x",window.innerHeight])+c("dr",[document.referrer])}function N(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(a).map(function(b){return[b,a[b]].map(w).map(encodeURIComponent).join("=")}).join("&")}function w(a){return typeof a=="boolean"?+a:a}function P(d){var b={},a,c,g,e,f,h,i,j;for(a in d){if(c=d[a],!c)continue;a in k&&(g=k[a],b[g]=c),e=u.exec(a),e&&(f=_slicedToArray(e,3),h=f[1],i=f[2],j=v[h]+i,b[j]=c)}return b}k={anonymizeIp:"aip",dataSource:"ds",queueTime:"qt",userId:"uid",sessionControl:"sc",referrer:"dr",campaignName:"cn",campaignSource:"cs",campaignMedium:"cm",campaignKeyword:"ck",campaignContent:"cc",campaignId:"ci",screenResolution:"sr",viewportSize:"vp",encoding:"de",screenColors:"sd",language:"ul",javaEnabled:"je",flashVersion:"fl",hitType:"t",nonInteraction:"ni",location:"dl",hostname:"dh",page:"dp",title:"dt",screenName:"cd",linkid:"linkid",appName:"an",appId:"aid",appVersion:"av",appInstallerId:"aiid",eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",currencyCode:"cu",socialNetwork:"sn",socialAction:"sa",socialTarget:"st",timingCategory:"utc",timingVar:"utv",timingValue:"utt",timingLabel:"utl",exDescription:"exd",exFatal:"exf",expId:"xid",expVar:"xvar"},u=/(dimension|metric)(\d+)/,v={dimension:"cd",metric:"cm"};function E(b,c,d){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=!!(arguments.length>4&&arguments[4]!==void 0)&&arguments[4],a=N(P(e));return x()+(a?"&"+a:"")+(f?"&aip=1":"")+"&cid="+d+"&tid="+b+"&z="+c}function T(a){return window["ga-disable-".concat(a)]===!0}n="t0",l=function(){function a(b){_classCallCheck(this,a),this.fields={trackingId:b},this.userId=y(),this._sendTo=z,this._getTime=A}return _createClass(a,[{key:"send",value:function(e){var b,c,a,f,d;if(T(this.fields.trackingId))return;for(b=arguments.length,c=new Array(b>1?b-1:0),a=1;a<b;a++)c[a-1]=arguments[a];f=_objectSpread(_objectSpread({hitType:e},B(e,c)),this.fields),d=E(this.fields.trackingId,this._getTime(),this.userId,f),this._sendTo(d)}},{key:"get",value:function(a){return this.fields[a]}},{key:"set",value:function(a,c){if(a.constructor===Object)for(var b in a)this.fields[b]=a[b];else this.fields[a]=c}}]),a}();function A(){return(new Date).getTime()}function B(g){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],f=a.length>=1&&a[a.length-1].constructor===Object,b=f?a[a.length-1]:{},t,o,i,h,c,j,k,l,m,n,e,p,q,r,s,d,u,v,w,x;switch(a=f?a.slice(0,-1):a,g){case"pageview":return t=a,o=_slicedToArray(t,1),i=o[0],_objectSpread({page:i},b);case"event":return h=a,c=_slicedToArray(h,4),j=c[0],k=c[1],l=c[2],m=c[3],_objectSpread({eventCategory:j,eventAction:k,eventLabel:l,eventValue:m},b);case"social":return n=a,e=_slicedToArray(n,3),p=e[0],q=e[1],r=e[2],_objectSpread({socialNetwork:p,socialAction:q,socialTarget:r},b);case"timing":return s=a,d=_slicedToArray(s,4),u=d[0],v=d[1],w=d[2],x=d[3],_objectSpread({timingCategory:u,timingVar:v,timingValue:w,timingLabel:x},b);default:return b}}function C(b,d){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,e=arguments.length>3?arguments[3]:void 0,a=new l(b);return H(c,a),a}function D(a){return p(a)}r={create:C,getByName:D},b=r;function G(){return typeof window=="undefined"?[]:window.galite&&window.galite.q||[]}Array.from=Array.from||function(){var a;return(a=Array.prototype.slice).call.apply(a,arguments)};function j(a){var m,h,i,f,j,k,d,e,c,g,n;if(K())return;m=I(a),h=_slicedToArray(m,2),i=h[0],f=h[1],j=!!b[a],k=!!l.prototype[f]&&f!=="constructor";for(d=arguments.length,e=new Array(d>1?d-1:0),c=1;c<d;c++)e[c-1]=arguments[c];if(j)b[a].apply(b,e);else if(k)g=p(i),g&&g[f].apply(g,e);else if(typeof a=="function")n=p(i),a(n);else throw new Error("Command ".concat(a," is not available in ga-lite"))}function I(a){return typeof a=="string"&&a.indexOf(".")>-1?a.split("."):[n,a]}Object.keys(b).forEach(function(a){j[a]=b[a]}),G().forEach(function(a){return j.apply(void 0,_toConsumableArray(a))}),window.ga||(window.ga=j),q="do-not-track",h=M(q);function f(){for(var d=arguments.length,c=new Array(d),a=0,b,e,f;a<d;a++)c[a]=arguments[a];if(h){console.group("Google Analytics Debug"),b=_createForOfIteratorHelper(c);try{for(b.s();!(e=b.n()).done;)f=e.value,console.log("%o",f)}catch(a){b.e(a)}finally{b.f()}console.groupEnd();return}j.apply(void 0,c)}function e(a){f("send","event",a)}function t(a){var b=o(a,"[data-ga-category]").map(function(a){return a.dataset.gaCategory}).join(":"),c=o(a,"[data-ga-action]").map(function(a){return a.dataset.gaAction}).join(":"),d=o(a,"[data-ga-label]").map(function(a){return a.dataset.gaLabel}).join(":");return{eventCategory:b,eventAction:c,eventLabel:d}}function d(a,b){var c=t(a);e(_objectSpread(_objectSpread({},c),b))}function s(b){var a=t(b.target);return a.eventAction||(a.eventAction=b.target.href),(!a.eventAction||!a.eventAction.replace)&&(a.eventAction=b.currentTarget.href),a.transport="beacon",Q(a)}function Q(b){var a=b.eventAction;return a&&(a=a.replace(/^(https?:\/\/(www\.)?spotlightpa\.org)/,"https://www.spotlightpa.org"),a.match(/checkout\.fundjournalism\.org\/memberform/)&&(a="https://www.spotlightpa.org/donate/"),a.match(/^https:\/\/www\.spotlightpa\.org.*[^/]$/)&&(a=a+"/"),b.eventAction=a),b}function R(a){var b=s(a);e(b)}function S(){var j,c,k,i,b,l,m,n,o;if(L(),j=!!window.location.href.match(/debug=do-not-track/),c=!!window.location.host.match(/spotlightpa\.org$/),k=!!window.location.host.match(/(^goldbook)|(^localhost)|(spotlightpa\.netlify\.app$)/),(j||h===null&&!c)&&(h=!0,O(q,!0)),!c&&!k&&(window.location="https://www.spotlightpa.org"+window.location.pathname),i=document.querySelector("[data-ga-settings]"),!i){console.warn("could not load GA!");return}b=i.dataset,l=b.gaId,m=b.gaPageTitle,n=b.gaPagePath,o=b.gaPageUrl,f("create",l,"auto"),f("send","pageview",n,{title:m,location:o}),window.addEventListener("pagehide",function(){e({transport:"beacon",nonInteraction:!0})}),window.addEventListener("error",function(a){f("send","exception",{exDescription:a.message,exFatal:!0})}),g("a",function(b){var c=b.host===window.location.host||b.host.match(/spotlightpa\.org$/);c||(b.target="_blank",b.rel="noopener noreferrer"),a("click",b,function(h){var a=s(h),d,f,i,g,j,k;e(a),c&&b.pathname.match(/^\/donate\/?$/)&&(f="www.spotlightpa.org",window.frameElement&&"URLSearchParams"in window&&(i=window.location.hash.replace(/^#/,""),g=new URLSearchParams(i).get("host_page"),g&&(f=new URL(g).host)),j=((d=b.closest("[data-sf-campaign]"))===null||d===void 0?void 0:d.dataset.sfCampaign)||"701f4000000TVuXAAW",k="https://checkout.fundjournalism.org/memberform?org_id=spotlightpa&campaign=".concat(j,"&utm_source=").concat(f,"&utm_medium=").concat(a.eventLabel,"&utm_campaign=").concat(a.eventCategory),b.href=k)})}),a("click","[data-ga-button]",function(a){R(a)}),g("[data-ga-form]",function(a){a.addEventListener("submit",function(){var c=a.reportValidity()?"submit":"invalid",b="".concat(a.dataset.gaForm,":").concat(c);d(a,{eventAction:b,transport:"beacon"}),a.dispatchEvent(new CustomEvent("x-form-submit",{detail:b,bubbles:!0}))},{passive:!0}),a.addEventListener("focus",function(){var b="".concat(a.dataset.gaForm,":focus");d(a,{eventAction:b})},{once:!0,capture:!0,passive:!0})})}function J(){a("click",'[data-share="tweet"]',function(b){var c=b.currentTarget.dataset.shareText,a=b.currentTarget.dataset.shareUrl,e;a=a||window.location.href,e="https://twitter.com/intent/tweet?text="+encodeURIComponent(c)+"&url="+encodeURIComponent(a)+"&tw_p=tweetbutton",window.open(e,"_blank"),d(b.currentTarget)}),a("click",'[data-share="facebook"]',function(b){var a=b.currentTarget.dataset.shareUrl,c;a=a||window.location.href,c="https://www.facebook.com/dialog/feed?app_id=589296315209793&display=page&link="+encodeURIComponent(a),window.open(c,"_blank"),d(b.currentTarget)}),a("click",'[data-share="sharesheet"]',function(j){var a=j.currentTarget,k=(c=(i=a.dataset.shareTitle)!==null&&i!==void 0?i:(e=document.querySelector("[itemprop='name']"))===null||e===void 0?void 0:e.content)!==null&&c!==void 0?c:document.title,l=(f=(g=a.dataset.shareText)!==null&&g!==void 0?g:(b=document.querySelector("[itemprop='description']"))===null||b===void 0?void 0:b.content)!==null&&f!==void 0?f:"",m=(h=a.dataset.shareUrl)!==null&&h!==void 0?h:window.location.href,g,b,h,c,i,e,f;navigator.share({title:k,text:l,url:m}).then(function(){return d(a)}).catch(function(){return null})})}F(function(){a("click","[data-target]",function(b){var c=b.currentTarget.dataset.target,a=b.currentTarget.dataset.toggleClass;a=a||"is-active",g(c,function(b){b.classList.toggle(a)})}),a("click","a[data-gone]",function(b){var a,c;b.preventDefault(),a=b.currentTarget.dataset.gone,c="The target of this link has been removed. It pointed to ".concat(a,". Would you like to try to visit anyway?"),window.confirm(c)&&(window.location=a)}),S(),J()}),console.warn("could not load enhancements"),document.body.classList.add("has-old-js")})()