{{ $side := .Get "side" | default "left" }}
{{ $sideClass := cond (eq $side "right") "float-right lg:-mr-32" "float-left lg:-ml-32" }}
<aside
  class="
    {{ $sideClass }}
    py-4 font-sans text-sm
    relative w-full h-40 mb-4
    sm:w-56 sm:h-auto sm:mb-0 sm:px-4
    md:w-64
    lg:shape-outside
  "
  data-ga-category="inline:info"
  x-data="{ isOpen: false }"
  :class="{'h-40': !isOpen}"
>
  <div
    class="absolute inset-x-0 bottom-0 sm:hidden"
    x-show="!isOpen"
  >
    <button
      :aria-expanded="''+isOpen"
      class="text-darkblue hover:text-yellow hover:underline leading-4 mb-4"
      @click="isOpen = true"
      data-ga-button
      data-ga-action="sidebar:toggle"
    >
      <span aria-hidden="true">
        <svg class="fill-current h-4 w-4 inline-block">
          <use xlink:href="#plus-svg"></use>
        </svg>
      </span>
      <span class="ml-2 uppercase align-bottom">
        Show moreâ€¦
      </span>
    </button>
  </div>
  <div
    class="bg-info content-aside h-24 sm:h-auto overflow-hidden relative"
    :class="{'h-24': !isOpen}"
  >
    {{ .Inner | markdownify }}
    <div
      class="absolute inset-0 bg-gradient-to-t from-white sm:hidden"
      x-show="!isOpen"
    >
    </div>
    <hr hidden>
  </div>
</aside>
