{{ $magicPixel := "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" | safeURL }}
{{ $alt := .Param "promo-image-caption" }}
{{ $imgDesktop := .Param "promo-image-desktop" }}
{{ $widthDesktop := .Param "promo-desktop-width" }}
{{ $heightDesktop := .Param "promo-desktop-height" }}
{{ $imgMobile := .Param "promo-image-mobile" }}
{{ $link := .Param "promo-link" }}

<section
  class="mt-5 pl-5 pr-5 has-radius-padding has-text-centered"
  style="margin-left: auto; margin-right: auto;"
  data-ga-category="promo-banner"
>
  <p>
    {{ with $link }}
      <a
        class="is-hidden-mobile"
        data-ga-category="desktop"
        href="{{ . }}"
      >
    {{ else }}
      <span class="is-hidden-mobile">
    {{ end }}
      <img
        x-data="spl.imageRotator($el.dataset.images)"
        data-images="{{ $imgDesktop }}"
        :src="choice"
        src="{{ $magicPixel }}"
        alt="{{ $alt }}"
        title="{{ $alt }}"
        style="width: {{ $widthDesktop }}px; height: {{ $heightDesktop }}px;"
        loading="lazy"
      >
    {{ with $link }}
      </a>
    {{ else }}
      </span>
    {{ end }}
    {{ with $link }}
      <a
        class="is-hidden-tablet"
        data-ga-category="mobile"
        href="{{ . }}"
      >
    {{ else }}
      <span class="is-hidden-tablet">
    {{ end }}
      <img
        x-data="spl.imageRotator($el.dataset.images)"
        data-images="{{ $imgMobile }}"
        :src="choice"
        src="{{ $magicPixel }}"
        alt="{{ $alt }}"
        title="{{ $alt }}"
        loading="lazy"
      >
    {{ with $link }}
      </a>
    {{ else }}
      </span>
    {{ end }}
  </p>
</section>
