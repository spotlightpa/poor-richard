{{ $alt := index . "description" }}
{{ $link := index . "link" }}
{{ $wrapperClass := index . "class" | default "flex justify-center no-js:hidden" }}

{{ $images := index . "images" }}
{{ $width := index . "width" }}
{{ $height := index . "height" }}

{{ $img := partial "tw/image-rotator.html" (dict
  "images" $images
  "width" $width
  "height" $height
  "description" $alt
  )
}}

{{ if $images }}
  <aside class="{{ $wrapperClass }}" data-ga-category="promo-image">
    {{ with $link }}
      <a href="{{ . }}">
        {{- $img -}}
      </a>
    {{ else }}
      <span>
        {{- $img -}}
      </span>
    {{ end }}
  </aside>
{{ end }}
