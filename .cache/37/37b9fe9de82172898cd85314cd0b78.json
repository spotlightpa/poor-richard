{"id":"tVxT","dependencies":[{"name":"/Users/cjohnson/src/github/poor-richard/package.json","includedInParent":true,"mtime":1581697770850},{"name":"./DonationFormMixin.js","loc":{"line":2,"column":30},"parent":"/Users/cjohnson/src/github/poor-richard/src/components/DonationFormAmount.vue","resolved":"/Users/cjohnson/src/github/poor-richard/src/components/DonationFormMixin.js"}],"generated":{"js":"var $tVxT$exports={};$parcel$require(\"tVxT\",\"./DonationFormMixin.js\");var $tVxT$var$showDowntime=!1,downtimeStart=new Date(\"2020-02-16T02:00:00-05:00\"),downtimeStop=new Date(\"2020-02-16T07:00:00-05:00\"),now=new Date;downtimeStart<now&&now<downtimeStop&&($tVxT$var$showDowntime=!0);var $tVxT$var$amountsObj={\"\":[25,50,100,500,1e3],Month:[10,15,25],Year:[50,100,500]},$tVxT$var$amountsDefaults={\"\":100,Month:10,Year:100};function $tVxT$var$isPositiveNumber(t){var n=parseFloat(t);return isNaN(n)||n<=0?\"Amount must be a positive number\":\"\"}var $tVxT$export$default={mixins:[$tVxT$import$DonationFormMixin],data:function(){return{sizeButton:\"is-large\",sizeTitle:\"is-size-0\",recurringOptions:[{text:\"Monthly\",value:\"Month\"},{text:\"Yearly\",value:\"Year\"},{text:\"One time only\",value:\"\"}],otherAmount:null,showOtherAmount:!1,showModal:!1,isPositiveNumber:$tVxT$var$isPositiveNumber,showDowntime:$tVxT$var$showDowntime}},computed:{amounts:function(){return $tVxT$var$amountsObj[this.formData.recurring]},annualizedAmount:function(){return Math.ceil(this.formData.donationAmount/12)},perPeriod:function(){return{\"\":\"\",Month:\"/mo.\",Year:\"/yr.\"}[this.formData.recurring]}},watch:{otherAmount:function(t){var n=parseFloat(t)||0;this.formData.donationAmount=n}},mounted:function(){window.innerWidth<360?(this.sizeTitle=\"is-size-1\",this.sizeButton=\"\"):window.innerWidth<413&&(this.sizeButton=\"is-medium\")},methods:{setDonationAmount:function(t){this.formData.donationAmount=t,this.showOtherAmount=!1},toggleOtherAmount:function(){if(this.showOtherAmount=!this.showOtherAmount,this.showOtherAmount)this.otherAmount=String(this.formData.donationAmount);else{var t=this.formData.recurring;this.formData.donationAmount=$tVxT$var$amountsDefaults[t]}},setRecurring:function(t){this.showOtherAmount=!1,this.formData.recurring=t,this.formData.donationAmount=$tVxT$var$amountsDefaults[t]},validStepInc:function(){this.formData.recurring?this.stepInc():(this.showModal=!0,this.$gae({eventCategory:\"Donation form\",eventAction:\"Saw recurring donation nag screen\"}))},noThanks:function(){this.showModal=!1,this.$gae({eventCategory:\"Donation form\",eventAction:\"Declined recurring donation nag screen\"}),this.stepInc()},switchMonthly:function(){this.showOtherAmount=!0,this.otherAmount=String(this.annualizedAmount),this.formData.recurring=\"Month\",this.showModal=!1,this.$gae({eventCategory:\"Donation form\",eventAction:\"Accepted recurring donation nag screen\"}),this.stepInc()}}};$tVxT$exports.default=$tVxT$export$default;\n      if (typeof $tVxT$export$default === 'function') {\n        $tVxT$export$default = $tVxT$export$default.options;\n      }\n    \n        /* template */\n        Object.assign($tVxT$export$default, (function () {\n          var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"autocomplete\":\"on\"},on:{\"!focus\":function($event){return _vm.sendFocus($event)}}},[(_vm.showDowntime)?_c('div',{staticClass:\"message is-danger\"},[_vm._m(0)]):_vm._e(),_vm._v(\" \"),_c('hgroup',{staticClass:\"has-text-centered has-margin-bottom-thick\"},[_c('h1',{staticClass:\"title is-spaced has-text-black is-uppercase\",class:_vm.sizeTitle},[_vm._v(\" Join Us \")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('hr',{staticClass:\"is-emphatic-underline is-margin-centered has-margin-top has-margin-bottom max-12r\"}),_vm._v(\" \"),_c('p',{staticClass:\"is-size-3 is-size-4-mobile\"},[_vm._v(\" Your tax-deductible donation to Spotlight PA will help us investigate one of the largest and most opaque state capitals in the U.S. Together, we can hold the powerful to account. \")])]),_vm._v(\" \"),_c('div',{staticClass:\"buttons is-centered is-hidden-desktop\"},_vm._l((_vm.recurringOptions),function(opt){return _c('button',{key:opt.value,staticClass:\"button is-large\",class:_vm.formData.recurring === opt.value ? 'is-primary' : 'is-light',attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(opt.text)},on:{\"click\":function($event){return _vm.setRecurring(opt.value)}}})}),0),_vm._v(\" \"),_c('div',{staticClass:\"tabs is-toggle is-medium is-fullwidth is-hidden-touch\"},[_c('ul',_vm._l((_vm.recurringOptions),function(opt){return _c('li',{key:opt.value,class:{\n          'is-active': _vm.formData.recurring === opt.value\n        }},[_c('a',{domProps:{\"textContent\":_vm._s(opt.text)},on:{\"click\":function($event){return _vm.setRecurring(opt.value)}}})])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"buttons is-centered\"},[_vm._l((_vm.amounts),function(amount){return _c('button',{key:amount,staticClass:\"button is-large\",class:_vm.formData.donationAmount === amount && !_vm.showOtherAmount\n          ? 'is-primary'\n          : 'is-light',attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.setDonationAmount(amount)}}},[_vm._v(\" $\"+_vm._s(amount)+_vm._s(_vm.perPeriod)+\" \")])}),_vm._v(\" \"),_c('button',{staticClass:\"button is-large\",class:_vm.showOtherAmount ? 'is-primary' : 'is-light',attrs:{\"type\":\"button\"},on:{\"click\":_vm.toggleOtherAmount}},[_vm._v(\" Other \")])],2),_vm._v(\" \"),(_vm.showOtherAmount)?_c('BulmaFieldInput',{attrs:{\"label\":\"Other Amount\",\"validator\":_vm.isPositiveNumber,\"autofocus\":true,\"required\":true},model:{value:(_vm.otherAmount),callback:function ($$v) {_vm.otherAmount=$$v},expression:\"otherAmount\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"buttons has-margin-top-thick\"},[_c('button',{staticClass:\"button is-fullwidth is-primary has-text-weight-semibold\",class:_vm.sizeButton,attrs:{\"type\":\"button\"},on:{\"click\":_vm.validate}},[_c('span',[_vm._v(\" Yes, accountability matters \")]),_vm._v(\" \"),_c('span',{staticClass:\"icon\"},[_c('font-awesome-icon',{attrs:{\"icon\":['far', 'arrow-alt-circle-right']}})],1)])]),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('BulmaModal',{attrs:{\"value\":_vm.showModal},on:{\"input\":_vm.noThanks}},[_c('BulmaMessage',{staticClass:\"is-primary is-medium\",attrs:{\"header\":\"Switch to Monthly?\",\"show-close-button\":true},on:{\"close-button\":_vm.noThanks}},[_c('h1',{staticClass:\"title is-size-3\"},[_vm._v(\" Would you prefer to donate \"+_vm._s(_vm._f(\"formatUSD\")(_vm.annualizedAmount))+\" every month? \")]),_vm._v(\" \"),_c('p',[_vm._v(\" Donating monthly is the best way to show your support for the ongoing work of Spotlight PA. \"),_c('br'),_vm._v(\" \"),_c('br')]),_vm._v(\" \"),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"button is-light\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.noThanks}},[_vm._v(\" No thanks \")]),_vm._v(\" \"),_c('button',{staticClass:\"button is-primary has-text-weight-bold is-focused\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.switchMonthly}},[_vm._v(\" Yes, switch to monthly \")])])])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-body\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"Warning: Planned system maintenance\")]),_vm._v(\" \"),_c('p',[_vm._v(\" Due to planned system maintenance, we will not be able to receive donations \"),_c('strong',[_vm._v(\"February 16, 2020 from 4:00 AM to 6:00 AM ET\")]),_vm._v(\". Please wait until after this planned maintenance period to make your donation. Thank you for your patience and your support of Spotlight PA. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"is-size-3 is-size-4-mobile\"},[_vm._v(\" Support the only investigative newsroom \"),_c('span',{staticClass:\"is-hidden-touch\"},[_c('br')]),_vm._v(\" dedicated to covering Pennsylvania state government. \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" If you prefer to donate by check or are interested in learning about other ways to support Spotlight PA, please contact \"),_c('a',{attrs:{\"href\":\"mailto:joanna@spotlightpa.org\"}},[_vm._v(\"joanna@spotlightpa.org\")]),_vm._v(\". \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\" All donations are made to the \"),_c('a',{attrs:{\"href\":\"https://www.lenfestinstitute.org/\"}},[_vm._v(\"Lenfest Institute for Journalism\")]),_vm._v(\", a nonprofit tax-exempt organization under Section 501(c)(3) of the Internal Revenue Code, and directed to Spotlight PAâ€™s important investigative work. \")])}]\n\n          return {\n            render: render,\n            staticRenderFns: staticRenderFns,\n            _compiled: true,\n            _scopeId: null,\n            functional: undefined\n          };\n        })());\n      "},"sourceMaps":null,"error":null,"hash":"15676fca656bd5a4f6bdc956d629da82","cacheData":{"env":{},"imports":{"$tVxT$import$DonationFormMixin":["./DonationFormMixin.js","default"]},"exports":{"default":"$tVxT$export$default"},"wildcards":[],"sideEffects":true,"isES6Module":true}}