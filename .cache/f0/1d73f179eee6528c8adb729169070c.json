{"id":"jtXX","dependencies":[{"name":"/Users/cjohnson/src/github/poor-richard/package.json","includedInParent":true,"mtime":1581697770850},{"name":"./DonationFormMixin.js","loc":{"line":2,"column":30},"parent":"/Users/cjohnson/src/github/poor-richard/src/components/DonationFormPayment.vue","resolved":"/Users/cjohnson/src/github/poor-richard/src/components/DonationFormMixin.js"},{"name":"../utils/luhn.js","loc":{"line":4,"column":29},"parent":"/Users/cjohnson/src/github/poor-richard/src/components/DonationFormPayment.vue","resolved":"/Users/cjohnson/src/github/poor-richard/src/utils/luhn.js"},{"name":"../utils/form-data.js","loc":{"line":5,"column":29},"parent":"/Users/cjohnson/src/github/poor-richard/src/components/DonationFormPayment.vue","resolved":"/Users/cjohnson/src/github/poor-richard/src/utils/form-data.js"}],"generated":{"js":"var $jtXX$exports={};function $jtXX$var$ccValidator(t){return $jtXX$import$hasValidLuhn(t)?\"\":\"Please enter a valid credit card number\"}$parcel$require(\"jtXX\",\"./DonationFormMixin.js\"),$parcel$require(\"jtXX\",\"../utils/luhn.js\"),$parcel$require(\"jtXX\",\"../utils/form-data.js\");var $jtXX$export$default={mixins:[$jtXX$import$DonationFormMixin],data:function(){return{hasSetCardName:!1,cardName_:\"\",ccNumber:\"\",ccValidator:$jtXX$var$ccValidator,monthOptions:$jtXX$import$monthOptions,isSubmitting:!1,baseURL:\"https://www.spotlightpa.org\"}},computed:{expirationYears:function(){for(var t=[],i=(new Date).getFullYear(),e=i;e<i+20;e++){var r=String(e),a=r.slice(2);t.push({value:a,text:r})}return t},cardName:{get:function(){return this.hasSetCardName?this.cardName_:(this.formData.firstName+\" \"+this.formData.lastName).trim()},set:function(t){this.hasSetCardName=!0,this.cardName_=t}},cnpURL:function(){return this.testing?\"https://verify.faas.cloud.clickandpledge.com\":\"https://faas.cloud.clickandpledge.com\"},sorryURL:function(){return this.baseURL+\"/donate/sorry/\"},successURL:function(){return this.baseURL+\"/donate/thanks/\"},installments:function(){return this.formData.recurring?\"999\":\"\"},type:function(){return this.testing?\"text\":\"hidden\"},submitClasses:function(){var t=[this.testing?\"is-success\":\"is-primary\"];return this.isSubmitting&&t.push(\"is-loading\"),t},ccDigitsEnd:function(){var t=String(this.formData.ccNumber).match(/\\d+(\\d{4})/);return t?t[1]:\"????\"}},watch:{cardName:{handler:function(t){this.formData.cardName=t},immediate:!0},ccNumber:function(t){this.formData.ccNumber=t.replace(/\\D/g,\"\")}},mounted:function(){this.baseURL=window.location.origin},methods:{sendSubmit:function(t){if(!this.isSubmitting){var i=t.currentTarget.form,e=i.reportValidity();if(this.isSubmitting=e,e){var r=this.formData.donationAmount;\"Month\"===this.formData.recurring&&(r*=12),this.$gae({eventCategory:\"Donation form\",eventAction:\"Submit form\",eventValue:r,transport:\"beacon\"}),i.submit()}else this.$gae({eventCategory:\"Donation form\",eventAction:\"Attempt form submission\",eventLabel:\"Invalid submission\"})}}}};$jtXX$exports.default=$jtXX$export$default;\n      if (typeof $jtXX$export$default === 'function') {\n        $jtXX$export$default = $jtXX$export$default.options;\n      }\n    \n        /* template */\n        Object.assign($jtXX$export$default, (function () {\n          var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"method\":\"post\",\"action\":_vm.cnpURL,\"autocomplete\":\"on\"},on:{\"!focus\":function($event){return _vm.sendFocus($event)}}},[_c('h2',{staticClass:\"title has-text-centered\"},[_vm._v(\" Donate \"+_vm._s(_vm._f(\"formatUSD\")(_vm.formData.donationAmount))+_vm._s(_vm.perPeriod)+\" \")]),_vm._v(\" \"),(_vm.formData.recurring)?_c('h3',{staticClass:\"subtitle has-text-centered has-margin-bottom is-spaced\"},[_vm._v(\" Payments recur \"+_vm._s(_vm.timePeriod)+\" until canceled \")]):_vm._e(),_vm._v(\" \"),_c('h2',{staticClass:\"title is-size-3\"},[_vm._v(\"Payment Details\")]),_vm._v(\" \"),_c('BulmaFieldInput',{attrs:{\"label\":\"Name on card\",\"required\":true,\"autocomplete\":\"cc-name\",\"placeholder\":\"William Penn\"},model:{value:(_vm.cardName),callback:function ($$v) {_vm.cardName=$$v},expression:\"cardName\"}}),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('BulmaFieldInput',{attrs:{\"label\":\"Credit card number\",\"inputmode\":\"numeric\",\"placeholder\":\"••••••••••••••••\",\"min-length\":15,\"max-length\":17,\"required\":true,\"validator\":_vm.ccValidator,\"autocomplete\":\"cc-number\"},model:{value:(_vm.ccNumber),callback:function ($$v) {_vm.ccNumber=$$v},expression:\"ccNumber\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('BulmaFieldInput',{attrs:{\"inputmode\":\"numeric\",\"label\":\"CVV\",\"min-length\":3,\"max-length\":4,\"required\":true,\"help\":\"CVV is the 3 or 4 digit card verification number on the back of many credit cards\",\"autocomplete\":\"cc-csc\",\"placeholder\":\"123\"},model:{value:(_vm.formData.cvv),callback:function ($$v) {_vm.$set(_vm.formData, \"cvv\", $$v)},expression:\"formData.cvv\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"column\"},[_c('BulmaFieldSelect',{attrs:{\"label\":\"Expiration month\",\"options\":_vm.monthOptions,\"required\":\"\",\"autocomplete\":\"cc-exp-month\"},model:{value:(_vm.formData.expMonth),callback:function ($$v) {_vm.$set(_vm.formData, \"expMonth\", $$v)},expression:\"formData.expMonth\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"column\"},[_c('BulmaFieldSelect',{attrs:{\"label\":\"Expiration year\",\"options\":_vm.expirationYears,\"required\":true,\"autocomplete\":\"cc-exp-year\"},model:{value:(_vm.formData.expYear),callback:function ($$v) {_vm.$set(_vm.formData, \"expYear\", $$v)},expression:\"formData.expYear\"}})],1)]),_vm._v(\" \"),_c('h2',{staticClass:\"title has-margin-top-thick\"},[_vm._v(\" You will be charged: \"),_c('span',{staticClass:\"is-hidden-mobile is-pulled-right\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatUSD\")(_vm.formData.donationAmount))+\" \"+_vm._s(_vm.timePeriod)+\" \")]),_vm._v(\" \"),_c('span',{staticClass:\"is-hidden-tablet\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatUSD\")(_vm.formData.donationAmount))+\" \"+_vm._s(_vm.timePeriod)+\" \")])]),_vm._v(\" \"),_c('button',{staticClass:\"button is-large is-fullwidth has-text-weight-bold\",class:_vm.submitClasses,attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendSubmit}},[_c('span',{staticClass:\"icon\"},[_c('font-awesome-icon',{attrs:{\"icon\":\"lock\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\" Submit Donation \")])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('p',[_vm._v(\"   \")]),_vm._v(\" \"),_c('p',{staticClass:\"has-text-centered\"},[_c('a',{on:{\"click\":_vm.stepDec}},[_vm._v(\"Go back\")]),_vm._v(\" to edit your information. \"),(_vm.formData.recurring)?_c('span',[_vm._v(\" You can update your card information or cancel your recurring donation at any time by contacting \"),_c('a',{attrs:{\"href\":\"mailto:joanna@spotlightpa.org\"}},[_vm._v(\"joanna@spotlightpa.org\")]),_vm._v(\". \")]):_vm._e()]),_vm._v(\" \"),_c('p',[_vm._v(\"   \")]),_vm._v(\" \"),_c('h2',{staticClass:\"title is-size-4\"},[_vm._v(\"Terms & Conditions\")]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"UnitPrice\"},domProps:{\"value\":_vm.formData.donationAmount}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"ItemID\",\"value\":\"1\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"ItemName\",\"value\":\"Donation\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"Quantity\",\"value\":\"1\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"UnitDeductible\",\"value\":\"100%\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"RecurringMethod\",\"value\":\"Subscription\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"Installment\"},domProps:{\"value\":_vm.installments}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"Periodicity\"},domProps:{\"value\":_vm.formData.recurring}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"recurring\"},domProps:{\"value\":_vm.formData.recurring}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingFirstName\"},domProps:{\"value\":_vm.formData.firstName}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingLastName\"},domProps:{\"value\":_vm.formData.lastName}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingEmail\"},domProps:{\"value\":_vm.formData.email}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingCountryCode\"},domProps:{\"value\":_vm.formData.country}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingAddress1\"},domProps:{\"value\":_vm.formData.address1}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingAddress2\"},domProps:{\"value\":_vm.formData.address2}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingAddress3\"},domProps:{\"value\":_vm.formData.address3}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingCity\"},domProps:{\"value\":_vm.formData.city}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingStateProvince\"},domProps:{\"value\":_vm.formData.stateOrProvince}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingPostalCode\"},domProps:{\"value\":_vm.formData.postalCode}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"BillingPhone\"},domProps:{\"value\":_vm.formData.phoneNumber}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"NameOnCard\"},domProps:{\"value\":_vm.formData.cardName}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"CardNumber\"},domProps:{\"value\":_vm.formData.ccNumber}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"Cvv2\"},domProps:{\"value\":_vm.formData.cvv}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"ExpirationMonth\"},domProps:{\"value\":_vm.formData.expMonth}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"ExpirationYear\"},domProps:{\"value\":_vm.formData.expYear}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldName1\",\"value\":\"Donor Name\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldValue1\"},domProps:{\"value\":_vm.formData.donationName}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldName2\",\"value\":\"Additional comments\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldValue2\"},domProps:{\"value\":_vm.formData.comments}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldName3\",\"value\":\"Newsletter\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldValue3\"},domProps:{\"value\":_vm.formData.wantsNewsletter}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldName4\",\"value\":\"Partner promotions\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"FieldValue4\"},domProps:{\"value\":_vm.formData.wantsPartners}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"Campaignid\",\"value\":\"90855\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"Organizationid\",\"value\":\"60246\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"UrlReferrer\",\"value\":\"https://www.spotlightpa.org/\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"OnSuccessUrl\"},domProps:{\"value\":_vm.successURL}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"OnDeclineUrl\"},domProps:{\"value\":_vm.sorryURL}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"OnErrorUrl\"},domProps:{\"value\":_vm.sorryURL}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"AccountGuid\",\"value\":\"4c7c323d-466b-4492-b3e8-e5689bd9d775\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"AccountID\",\"value\":\"60246\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"accountAlias\",\"value\":\"lenfestinstitute\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"ConnectCampaignAlias\",\"value\":\"SpotlightPA\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"SendReceipt\",\"value\":\"true\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"ReceiptTemplateGUID\",\"value\":\"131a8ef4-0653-4e65-b774-20df83c36fa5\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"OrderMode\",\"value\":\"Production\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"TransactionType\",\"value\":\"Payment\"}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":_vm.type,\"name\":\"PaymentType\",\"value\":\"CreditCard\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('small',[_vm._v(\" Your donation is secured by \"),_c('a',{attrs:{\"href\":\"https://clickandpledge.com\"}},[_vm._v(\"Click And Pledge\")]),_vm._v(\". \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"is-size-6\"},[_vm._v(\" Your gift is tax-deductible to the extent allowed by law. Please note that all gifts are donated to The Lenfest Institute for Journalism and directed to Spotlight PA’s important investigative work. Spotlight PA editors and reporters operate independently of our donors and maintain editorial control over all of the content they produce. Because we are committed to fully disclosing all of our sources of funding, we cannot accept anonymous donations. Please contact \"),_c('a',{attrs:{\"href\":\"mailto:joanna@spotlightpa.org\"}},[_vm._v(\"joanna@spotlightpa.org\")]),_vm._v(\" if you have any questions. \")])}]\n\n          return {\n            render: render,\n            staticRenderFns: staticRenderFns,\n            _compiled: true,\n            _scopeId: null,\n            functional: undefined\n          };\n        })());\n      "},"sourceMaps":null,"error":null,"hash":"5411405aac185d4ed689ab125555614c","cacheData":{"env":{},"imports":{"$jtXX$import$DonationFormMixin":["./DonationFormMixin.js","default"],"$jtXX$import$hasValidLuhn":["../utils/luhn.js","hasValidLuhn"],"$jtXX$import$monthOptions":["../utils/form-data.js","monthOptions"]},"exports":{"default":"$jtXX$export$default"},"wildcards":[],"sideEffects":true,"isES6Module":true}}